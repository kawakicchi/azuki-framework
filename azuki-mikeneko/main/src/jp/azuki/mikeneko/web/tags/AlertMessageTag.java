package jp.azuki.mikeneko.web.tags;import javax.servlet.jsp.JspException;import jp.azuki.mikeneko.MikeNeko;import jp.azuki.mikeneko.message.AlertMessage;import jp.azuki.mikeneko.web.display.Display;import jp.azuki.web.tags.AbstractBodyRenderingTag;/** * このクラスは、アラートメッセージを表示するタグです。 *  * @since 1.0.0 * @version 1.0.0 2013/07/09 * @author Kawakicchi */public class AlertMessageTag extends AbstractBodyRenderingTag {	/**	 * コンストラクタ	 */	public AlertMessageTag() {		super(AlertMessageTag.class);	}	@Override	protected void doRendering(final StringBuffer aRender) throws JspException {		// Object obj =		// getPageContext().getAttribute(MikeNeko.MIKENEKO_REQUEST_SESSION_NAME);		// obj =		// getPageContext().getServletContext().getAttribute(MikeNeko.MIKENEKO_REQUEST_SESSION_NAME);		Object obj = getPageContext().getRequest().getAttribute(MikeNeko.MIKENEKO_REQUEST_ATTRIBUTE_NAME);		Display display = null;		if (obj instanceof Display) {			display = (Display) obj;		}		if (null != display) {			AlertMessage alert = display.getAlertMessage();			if (null != alert) {				if (AlertMessage.Type.success == alert.getType()) {					aRender.append("<div class=\"alert alert-success\">");				} else if (AlertMessage.Type.error == alert.getType()) {					aRender.append("<div class=\"alert alert-error\">");				} else if (AlertMessage.Type.warning == alert.getType()) {					aRender.append("<div class=\"alert\">");				} else {					aRender.append("<div class=\"alert alert-info\">");				}				aRender.append("<button class=\"close\" data-dismiss=\"alert\">&times;</button>");				// aRender.append("<strong>Alert！</strong> シンプルなアラート表示例です");				aRender.append(toStringEscapeHTML(alert.getMessage()));				aRender.append("</div>");			}		}	}}